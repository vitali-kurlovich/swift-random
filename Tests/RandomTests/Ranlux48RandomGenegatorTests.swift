//
//  Ranlux48RandomGenegatorTests.swift
//  swift-random
//
//  Created by Vitali Kurlovich on 30.03.25.
//

import Random
import XCTest

final class Ranlux48RandomGenegatorTests: XCTestCase {
    func testWithSeed_0() {
        var generator = Ranlux48RandomGenegator(seed: 0)

        let result = (0 ..< 32).map { _ in generator.next() }

        let expected: [UInt64] = [0xD72A_0C96_657E_B725, 0x7253_4ABF_5A74_3C06, 0xE2EC_F94A_5195_D97A, 0x9586_EFCA_03FD_3CD4, 0x623B_341D_28CC_61DE, 0xF11_60B4_B0E5_A9A1, 0x29DE_25BD_E65C_DA10, 0x8876_EDD9_28B8_E8F5, 0x952B_C357_9AA9_3190, 0x63F6_6107_451C_D3C2, 0xBE0C_7218_4B1C_4CBD, 0x1356_76A8_4C6C_2C94, 0xDB7D_1EF0_67AC_F11E, 0xA9AF_4526_F124_D606, 0xB4_8E98_D8B2_A2FF, 0x8858_368A_765E_7C77, 0x43FF_29D6_C9B2_4840, 0x4E89_7866_FB95_A6FE, 0x9BD4_C9FF_99D1_A468, 0xE2CA_05F5_3662_639A, 0x26E0_49BD_4DFE_0200, 0x6331_B080_5671_02AD, 0xC0E8_DE12_A4C3_9D1E, 0x8818_CA02_9A86_95AB, 0xA709_7B9C_7598_A33F, 0xF245_560F_53C2_250E, 0xF1A2_CC1A_5E37_DC5A, 0x843F_E4F1_01E6_D18D, 0x638_782E_45D4_5131, 0x3478_7D13_978A_548C, 0xF32_C964_E0B0_82E9, 0x4D86_36A2_42C6_93D5]

        XCTAssertEqual(result, expected)
    }

    func testWithSeed_4598763() {
        var generator = Ranlux48RandomGenegator(seed: 4_598_763)

        let result = (0 ..< 32).map { _ in generator.next() }

        let expected: [UInt64] = [0x4E98_C4E4_9BB5_37EB, 0xB72F_EEBD_3A16_C93C, 0xD714_2878_5105_E0A0, 0x4AB1_15A8_8F77_A76A, 0xA13F_682B_966B_F564, 0x6F13_4672_6D5C_6797, 0x5CDE_CCAB_0ABC_5FF6, 0x6B80_B177_BD61_D04B, 0x8911_2B25_6539_6FD6, 0x285C_0085_8EF5_1A78, 0xAB35_C8C6_83D4_6963, 0xCFED_D006_374E_68AA, 0xBA4E_727E_9510_7224, 0x680E_1664_0C3E_FD7C, 0xD904_CD06_C037_6E65, 0x24F2_1DA8_9A07_E54D, 0x4566_2124_D086_A406, 0x7CAD_F364_B685_0734, 0xACD9_282D_AC02_368E, 0xB282_72D3_1843_D130, 0x7905_9CCB_51FB_D086, 0x86FF_4D3E_8DDB_F3A3, 0xD79D_9400_E14A_0E04, 0x7892_B4A0_BC53_E001, 0x1F74_E26A_AFF3_7C85, 0xED96_8C8D_81C1_FEC4, 0x3953_11C8_D6E9_4400, 0x4785_454F_06F6_D0A3, 0xEB0_AABC_199A_CD37, 0x2CFE_C551_EF0B_6F02, 0xEC58_D6D2_B3EC_F94F, 0xDFE8_04C0_6173_1FAB]

        XCTAssertEqual(result, expected)
    }

    func testWithUUID() {
        let uuid = UUID(uuidString: "4A442C1E-93F6-4196-9087-0834A0EFAE7D")!
        var generator = Ranlux48RandomGenegator(uuid: uuid)

        let result = (0 ..< 32).map { _ in generator.next() }

        let expected: [UInt64] = [0x3274_6BEB_BE50_A2AE, 0x4F6D_B69C_A321_3137, 0x71D9_D8EF_487A_5493, 0x574B_1C77_F1E2_B415, 0xEA50_4912_1EF2_D587, 0xD268_8B31_5A8F_B3F2, 0x8327_7502_F3E2_3F49, 0x4281_2326_F3C3_A756, 0x6A50_A1EC_E5E1_1159, 0x7CA7_7E24_8D25_7733, 0x18B4_84FD_EB69_C016, 0xECE3_2895_E811_F615, 0xF205_5B25_FCEB_A107, 0x11CA_08E3_661A_1697, 0xA34_391D_902F_C878, 0xE03E_5917_BD89_9518, 0x679C_D7AB_19B5_AC49, 0x6E0_16C3_C642_08AF, 0x606B_6024_8CB6_A001, 0xB84B_0D22_B581_8F5B, 0x17F3_FD32_C5DC_7E29, 0x9928_DD7D_94EB_897E, 0x4DEC_33D7_90A9_12D7, 0x2DB0_A9CF_8B9D_188C, 0x91F2_48B1_8151_1B88, 0xFA4_45AC_C67E_54FF, 0xF1CF_357F_35A6_F033, 0xDC75_115E_BA9C_6F8E, 0x94A3_F2E3_14DE_299A, 0x1938_E350_E068_319D, 0xA0FB_1A69_48B2_D8E2, 0xD1B9_A3AF_5477_90F6]

        XCTAssertEqual(result, expected)
    }
}
