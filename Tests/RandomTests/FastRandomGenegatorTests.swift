//
//  FastRandomGenegatorTests.swift
//  swift-random
//
//  Created by Vitali Kurlovich on 30.03.25.
//

import Random
import XCTest

final class FastRandomGenegatorTests: XCTestCase {
    func testWithSeed_0() {
        var generator = FastRandomGenegator(seed: 0)

        let result = (0 ..< 32).map { _ in generator.next() }

        let expected: [UInt64] = [0xAA8_540E_CD10_E6BA, 0x5D57_BF94_917B_CD04, 0x17A1_C6F3_2C79_255E, 0x86D9_6782_F829_E648, 0x3BB1_E0A7_F590_2A42, 0xEE84_209C_4805_CFCC, 0x8E5D_A3D7_2EAA_1966, 0xC45D_7BFE_345A_4D90, 0x409B_A2EB_E9B3_56CA, 0xE041_046E_F86C_6394, 0xEB97_B08D_0CB4_866E, 0xCF79_CE0D_D6C1_55D8, 0xE2E4_B0E2_25C8_8C52, 0x13A6_ED66_9590_A85C, 0xFC21_01E3_184C_8C76, 0xE4D7_1A2D_4C9A_1F20, 0x19D5_6ECE_3157_EADA, 0x515_1701_BA4B_BE24, 0xADCB_8829_002C_4B7E, 0xC0B0_CC6D_C9B7_C968, 0x9FD9_1FCC_1F27_9262, 0x9E17_9E39_3714_C4EC, 0x2FC0_0A9E_C9E3_E386, 0x826F_E136_E9C3_74B0, 0xB3A2_978E_F949_A2EA, 0xE056_5FD7_50BE_DCB4, 0x8676_AE08_B521_748E, 0x8AF1_5A0F_E968_40F8, 0x2BCF_5871_8D80_3C72, 0xDCA4_01A0_ACD7_257C, 0xD74_1C18_64DD_1E96, 0x5592_5615_494B_4E40]

        XCTAssertEqual(result, expected)
    }

    func testWithSeed_4598763() {
        var generator = FastRandomGenegator(seed: 4_598_763)

        let result = (0 ..< 32).map { _ in generator.next() }

        let expected: [UInt64] = [0x8B91_E26C_70A9_181D, 0xAF06_416D_D5A3_EC9F, 0x9873_D788_1EFA_29F1, 0x9C36_0C85_B446_8493, 0x318C_7289_031A_0505, 0xAED8_B7B8_27AE_27C7, 0x2E9C_9A9D_A1E3_FD59, 0xE06F_D7BF_6B8C_4A3B, 0x7842_EF5E_8F9C_A6ED, 0x6386_D667_6BB1_9FEF, 0x4295_A4C4_C25D_D5C1, 0x7481_AF43_891E_1CE3, 0x647D_DB14_85BA_9DD5, 0x7891_DFE1_0438_F517, 0x89E3_22B3_5EE3_5329, 0x9E6D_397F_88B0_9C8B, 0x5437_0B28_63C1_89BD, 0xDBD2_CB82_ED2A_C73F, 0x704A_390A_A934_1591, 0xF4BE_BF4A_1F08_6933, 0x48F2_88C4_1F23_0AA5, 0x5CC8_B40E_28E5_B667, 0x2035_9C86_8C63_BCF9, 0xC954_969A_4322_22DB, 0xD554_D326_E274_C08D, 0x63FE_B633_14AC_628F, 0x90B8_2E1D_48B9_E961, 0xD031_4679_B686_6983, 0x97AC_B2DE_26D0_4B75, 0xDDED_75DD_3AFD_6BB7, 0xE2A_8635_6A12_3AC9, 0x6D82_2A55_4CA9_DD2B]

        XCTAssertEqual(result, expected)
    }

    func testWithUUID() {
        let uuid = UUID(uuidString: "4A442C1E-93F6-4196-9087-0834A0EFAE7D")!
        var generator = FastRandomGenegator(uuid: uuid)

        let result = (0 ..< 32).map { _ in generator.next() }

        let expected: [UInt64] = [0xA391_6862_BCF7_BF24, 0x98B0_CFE6_E9EA_B47E, 0xB4FD_3108_7444_DA68, 0x643E_7DB7_59BB_8B62, 0x2584_7888_06C1_E5EC, 0x8282_333C_98A4_6C86, 0x3D03_3A3A_30A7_A5B0, 0xE0BE_7C29_F30B_BBEA, 0xBC1B_5B6B_2D07_1DB4, 0x2AC2_39CB_244A_1D8E, 0xBC54_B15B_EE47_91F8, 0x802B_E36A_B934_7572, 0x9C62_208A_E16A_867C, 0xF756_9C70_F443_E796, 0xF892_A0DC_7FD9_BF40, 0xA8AA_6672_2DAB_D7FA, 0x7371_5F8D_4683_4044, 0xC38D_C394_D477_EA9E, 0x112_2F98_A37D_4D88, 0xB1FF_667C_C3F6_0382, 0xAB0A_6317_247A_6B0C, 0xCE16_9DEE_1594_46A6, 0xFABB_39F0_7259_5CD0, 0x75E7_696F_B7CB_180A, 0xB79A_D495_BA91_26D4, 0x523_CCB3_9B71_1BAE, 0xB583_C15F_A61D_0D18, 0x2029_3C95_4671_3592, 0x87CB_EEF7_9C88_939C, 0xD809_97C0_4ECC_89B6, 0x7B_D2CE_A2BF_7E60, 0x237E_662A_40D8_7C1A]

        XCTAssertEqual(result, expected)
    }
}
