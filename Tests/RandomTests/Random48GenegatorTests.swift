//
//  Random48GenegatorTests.swift
//  swift-random
//
//  Created by Vitali Kurlovich on 30.03.25.
//

import Random
import XCTest

final class Random48GenegatorTests: XCTestCase {
    func testWithSeed_0() {
        var generator = Random48Genegator(seed: 0)

        let result = (0 ..< 32).map { _ in generator.next() }

        let expected: [UInt64] = [0xD72A_0C96_657E_B725, 0x7253_4ABF_5A74_3C06, 0xE2EC_F94A_5195_D97A, 0x9586_EFCA_03FD_3CD4, 0x623B_341D_28CC_61DE, 0xF11_60B4_B0E5_A9A1, 0x29DE_25BD_E65C_DA10, 0x8876_EDD9_28B8_E8F5, 0x952B_C357_9AA9_3190, 0x63F6_6107_451C_D3C2, 0xBE0C_7218_4B1C_4CBD, 0x1356_76A8_4C6C_2C94, 0xDB7D_1EF0_67AC_F11E, 0xA9AF_4526_F124_D606, 0xB4_8E98_D8B2_A2FF, 0x8858_368A_765E_7C77, 0x43FF_29D6_C9B2_4840, 0x4E89_7866_FB95_A6FE, 0x9BD4_C9FF_99D1_A468, 0xE2CA_05F5_3662_639A, 0x26E0_49BD_4DFE_0200, 0x6331_B080_5671_02AD, 0xC0E8_DE12_A4C3_9D1E, 0x8818_CA02_9A86_95AB, 0xA709_7B9C_7598_A33F, 0xF245_560F_53C2_250E, 0xF1A2_CC1A_5E37_DC5A, 0x843F_E4F1_01E6_D18D, 0x638_782E_45D4_5131, 0x3478_7D13_978A_548C, 0xF32_C964_E0B0_82E9, 0x4D86_36A2_42C6_93D5]

        XCTAssertEqual(result, expected)
    }

    func testWithSeed_4598763() {
        var generator = Random48Genegator(seed: 4_598_763)

        let result = (0 ..< 32).map { _ in generator.next() }

        let expected: [UInt64] = [0x4E98_C4E4_9BB5_37EB, 0xB72F_EEBD_3A16_C93C, 0xD714_2878_5105_E0A0, 0x4AB1_15A8_8F77_A76A, 0xA13F_682B_966B_F564, 0x6F13_4672_6D5C_6797, 0x5CDE_CCAB_0ABC_5FF6, 0x6B80_B177_BD61_D04B, 0x8911_2B25_6539_6FD6, 0x285C_0085_8EF5_1A78, 0xAB35_C8C6_83D4_6963, 0xCFED_D006_374E_68AA, 0xBA4E_727E_9510_7224, 0x680E_1664_0C3E_FD7C, 0xD904_CD06_C037_6E65, 0x24F2_1DA8_9A07_E54D, 0x4566_2124_D086_A406, 0x7CAD_F364_B685_0734, 0xACD9_282D_AC02_368E, 0xB282_72D3_1843_D130, 0x7905_9CCB_51FB_D086, 0x86FF_4D3E_8DDB_F3A3, 0xD79D_9400_E14A_0E04, 0x7892_B4A0_BC53_E001, 0x1F74_E26A_AFF3_7C85, 0xED96_8C8D_81C1_FEC4, 0x3953_11C8_D6E9_4400, 0x4785_454F_06F6_D0A3, 0xEB0_AABC_199A_CD37, 0x2CFE_C551_EF0B_6F02, 0xEC58_D6D2_B3EC_F94F, 0xDFE8_04C0_6173_1FAB]

        XCTAssertEqual(result, expected)
    }

    func testWithUUID() {
        let uuid = UUID(uuidString: "4A442C1E-93F6-4196-9087-0834A0EFAE7D")!
        var generator = Random48Genegator(uuid: uuid)

        let result = (0 ..< 32).map { _ in generator.next() }

        let expected: [UInt64] = [0xA391_6862_BCF7_BF24, 0x98B0_CFE6_E9EA_B47E, 0xB4FD_3108_7444_DA68, 0x643E_7DB7_59BB_8B62, 0x2584_7888_06C1_E5EC, 0x8282_333C_98A4_6C86, 0x3D03_3A3A_30A7_A5B0, 0xE0BE_7C29_F30B_BBEA, 0xBC1B_5B6B_2D07_1DB4, 0x2AC2_39CB_244A_1D8E, 0xBC54_B15B_EE47_91F8, 0x802B_E36A_B934_7572, 0x9C62_208A_E16A_867C, 0xF756_9C70_F443_E796, 0xF892_A0DC_7FD9_BF40, 0xA8AA_6672_2DAB_D7FA, 0x7371_5F8D_4683_4044, 0xC38D_C394_D477_EA9E, 0x112_2F98_A37D_4D88, 0xB1FF_667C_C3F6_0382, 0xAB0A_6317_247A_6B0C, 0xCE16_9DEE_1594_46A6, 0xFABB_39F0_7259_5CD0, 0x75E7_696F_B7CB_180A, 0xB79A_D495_BA91_26D4, 0x523_CCB3_9B71_1BAE, 0xB583_C15F_A61D_0D18, 0x2029_3C95_4671_3592, 0x87CB_EEF7_9C88_939C, 0xD809_97C0_4ECC_89B6, 0x7B_D2CE_A2BF_7E60, 0x237E_662A_40D8_7C1A]

        XCTAssertEqual(result, expected)
    }
}
