//
//  Rand48Tests.swift
//  swift-random
//
//  Created by Vitali Kurlovich on 31.03.25.
//

@testable import Random
import XCTest

final class Rand48Tests: XCTestCase {
    func testSeed_0() {
        var state = rand48_state_t(x0: 0, x1: 0, x2: 0)
        rand48_set(state: &state, s: 0)

        let result = (0 ..< 64).map { _ in rand48_get(state: &state) }

        let expected: [UInt64] = [0x657E_B725, 0xD72A_0C96, 0x5A74_3C06, 0x7253_4ABF, 0x5195_D97A, 0xE2EC_F94A, 0x3FD3CD4, 0x9586_EFCA, 0x28CC_61DE, 0x623B_341D, 0xB0E5_A9A1, 0xF1160B4, 0xE65C_DA10, 0x29DE_25BD, 0x28B8_E8F5, 0x8876_EDD9, 0x9AA9_3190, 0x952B_C357, 0x451C_D3C2, 0x63F6_6107, 0x4B1C_4CBD, 0xBE0C_7218, 0x4C6C_2C94, 0x1356_76A8, 0x67AC_F11E, 0xDB7D_1EF0, 0xF124_D606, 0xA9AF_4526, 0xD8B2_A2FF, 0xB48E98, 0x765E_7C77, 0x8858_368A, 0xC9B2_4840, 0x43FF_29D6, 0xFB95_A6FE, 0x4E89_7866, 0x99D1_A468, 0x9BD4_C9FF, 0x3662_639A, 0xE2CA_05F5, 0x4DFE_0200, 0x26E0_49BD, 0x5671_02AD, 0x6331_B080, 0xA4C3_9D1E, 0xC0E8_DE12, 0x9A86_95AB, 0x8818_CA02, 0x7598_A33F, 0xA709_7B9C, 0x53C2_250E, 0xF245_560F, 0x5E37_DC5A, 0xF1A2_CC1A, 0x1E6D18D, 0x843F_E4F1, 0x45D4_5131, 0x638782E, 0x978A_548C, 0x3478_7D13, 0xE0B0_82E9, 0xF32C964, 0x42C6_93D5, 0x4D86_36A2]

        XCTAssertEqual(result, expected)
    }

    func testSeed_10() {
        var state = rand48_state_t(x0: 0, x1: 0, x2: 0)
        rand48_set(state: &state, s: 10)

        let result = (0 ..< 64).map { _ in rand48_get(state: &state) }

        let expected: [UInt64] = [0xE0FC_631E, 0xCBB9_FB9B, 0x7B17_7F27, 0x8692_85CC, 0x758B_AC03, 0xF20A_B39F, 0xA569_F105, 0x95DF_AEA7, 0xA3CC_33F7, 0xF4F6_1EC2, 0x7F67_CFE2, 0x8CC6_1061, 0xBB9D_14B9, 0x4CB6_F5B2, 0xF5BB_9246, 0x8B63_CB56, 0x3DBD_CDC9, 0xFBD9_7D9C, 0xA00B_2123, 0xA85E_7954, 0x1E3F_D386, 0x1E91_6BAD, 0x28A2_4F05, 0x3780_A6C5, 0x3599_7B77, 0xC58B_FCD5, 0x19F1_0E87, 0x7853_3A13, 0x730A_D9E8, 0xA665_45CD, 0xA212_1C08, 0x5CDB_6D47, 0x84FA_64B9, 0xF8D3_FF5B, 0x5EA6_0E9F, 0x600C_3DF3, 0xEFF8_6F71, 0x1F0F_52D4, 0x879A_044B, 0x1304_7752, 0x8075_D499, 0x1E26_6AE2, 0x4530_5D6E, 0xFE20_BAAD, 0xC72B_6047, 0x1839_CC87, 0xC815_3B7C, 0x317B_29FF, 0xD9F4_CFF8, 0xDB02_BC61, 0xF0AF_B6EF, 0xCDE8_98DC, 0xEBBB_7BA3, 0x9915_342F, 0x407C_007E, 0x761D_678E, 0xD339_FC0A, 0x400D_2C93, 0x3449_E18D, 0xE5A2_6C80, 0x3B23_6252, 0xC9A0_3F19, 0x73FE_4FE6, 0x72E4_8FDF]

        XCTAssertEqual(result, expected)
    }
}
